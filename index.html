<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nolin Masai Wabuti - AI Engineer</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        /* --- DARK THEME STYLES (Slate/Cyan) --- */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Slate 900 - Deep Dark Background */
            color: #f1f5f9; /* Slate 100 - Light Text */
        }
        .section-header {
            font-size: 2.5rem;
            font-weight: 700;
            color: #22d3ee; /* Cyan 400 - Primary Accent */
            text-shadow: none;
            margin-bottom: 2rem;
            border-bottom: 2px solid #334155; /* Slate 700 */
            padding-bottom: 0.5rem;
        }
        .code-block {
            background-color: #334155; /* Slate 700 for code/text blocks */
            border: 1px solid #475569; /* Slate 600 */
            color: #e2e8f0; /* Slate 200 */
        }
        /* Make clickable cards distinct and interactive */
        .ai-card-clickable {
            background: #1e293b; /* Slate 800 - Card Background */
            /* Softer, professional shadow on dark */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4), 0 0 10px rgba(34, 211, 238, 0.1);
            transition: transform 0.3s, box-shadow 0.3s, border-color 0.3s;
            cursor: pointer;
            border: 1px solid #1e293b;
        }
        .ai-card-clickable:hover {
            transform: translateY(-5px);
            /* Cyan glow on hover */
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.35), 0 0 15px #22d3ee99;
            border-color: #22d3ee; /* Highlight border on hover */
        }
        .btn-primary {
            background-color: #06b6d4; /* Cyan 600 */
            color: white;
            font-weight: 600;
            transition: background-color 0.2s, transform 0.1s;
        }
        .btn-primary:hover {
            background-color: #0891b2; /* Cyan 700 */
            transform: scale(1.02);
        }
        .loading-spinner {
            border-top-color: #22d3ee;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        /* Custom style for certificate images */
        .cert-img-placeholder {
            width: 100%;
            height: 120px; /* Fixed height for consistency */
            object-fit: cover;
            object-position: top;
            border-radius: 0.5rem;
            margin-bottom: 0.75rem;
            border: 1px solid #334155;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body class="antialiased">

    <header class="sticky top-0 z-50 bg-slate-900/95 backdrop-blur-sm shadow-xl border-b border-cyan-900/50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16">
            <div class="text-xl font-bold text-slate-100">
                <span class="text-3xl font-extrabold text-[#22d3ee]">Nolin</span>.AI
            </div>
            <nav class="hidden md:flex space-x-8">
                <a href="#about" class="text-sm font-medium text-slate-300 hover:text-[#22d3ee] transition">About</a>
                <a href="#projects" class="text-sm font-medium text-slate-300 hover:text-[#22d3ee] transition">Projects</a>
                <a href="#cv" class="text-sm font-medium text-slate-300 hover:text-[#22d3ee] transition">CV</a>
                <a href="#certifications" class="text-sm font-medium text-slate-300 hover:text-[#22d3ee] transition">Certifications</a>
                <a href="#assistant" class="text-sm font-medium text-slate-300 hover:text-[#22d3ee] transition">AI Assistant</a>
                <a href="#contact" class="text-sm font-medium text-slate-300 hover:text-[#22d3ee] transition">Contact</a>
            </nav>
            <button class="md:hidden text-slate-300 p-2 rounded-md hover:bg-slate-800" onclick="document.getElementById('mobile-menu').classList.toggle('hidden')">
                <i data-lucide="menu"></i>
            </button>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-slate-800/90 p-4 border-t border-slate-700">
            <a href="#about" class="block py-2 text-sm font-medium text-slate-200 hover:text-[#22d3ee]">About</a>
            <a href="#projects" class="block py-2 text-sm font-medium text-slate-200 hover:text-[#22d3ee]">Projects</a>
            <a href="#cv" class="block py-2 text-sm font-medium text-slate-200 hover:text-[#22d3ee]">CV</a>
            <a href="#certifications" class="block py-2 text-sm font-medium text-slate-200 hover:text-[#22d3ee]">Certifications</a>
            <a href="#assistant" class="block py-2 text-sm font-medium text-slate-200 hover:text-[#22d3ee]">AI Assistant</a>
            <a href="#contact" class="block py-2 text-sm font-medium text-slate-200 hover:text-[#22d3ee]">Contact</a>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 space-y-24">

        <section id="hero" class="text-center pt-8">
            <div class="flex flex-col lg:flex-row items-center justify-between">
                <div class="lg:w-3/5 text-left">
                    <p class="text-lg text-cyan-400 mb-2 font-mono">Hello, I'm Nolin Masai Wabuti</p>
                    <h1 class="text-6xl sm:text-7xl font-extrabold leading-tight mb-4 text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-[#06b6d4]">
                        Building Intelligence.<br>Scaling Impact.
                    </h1>
                    <p class="text-xl max-w-2xl text-slate-300 mb-8">
                        I am an Entry Level AI Engineer specializing in **LLM Development, Predictive Modeling, and robust MLOps systems** built with Python and modern ML frameworks.
                    </p>
                    <a href="#projects" class="inline-flex items-center btn-primary px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all">
                        View Projects <i data-lucide="arrow-right" class="w-5 h-5 ml-2"></i>
                    </a>
                </div>
                <div class="lg:w-2/5 mt-10 lg:mt-0 flex justify-center">
                    <img src="nolly.jpg" onerror="this.onerror=null; this.src='https://placehold.co/256x256/1e293b/94a3b8?text=Nolin+Masai'" alt="Nolin Masai Wabuti" class="w-64 h-64 rounded-full border-4 border-[#22d3ee] object-cover shadow-2xl">
                </div>
            </div>
        </section>

        <section id="about" class="py-12">
            <h2 class="section-header">About Me</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                <div class="text-slate-300 leading-relaxed space-y-4">
                    <p>I transform complex data science models into reliable, high-performing software products. My journey spans the entire ML lifecycle, from initial research and experimentation to deployment and monitoring in production environments.</p>
                    <p>My unique background combines **Generative AI development, predictive modeling, and data quality expertise**. I am dedicated to building AI systems that are not only efficient but also ethically sound and align with global developmental goals, honed through my work with WFF FAO and Kujia Kenya.</p>
                </div>
                <div class="space-y-4">
                    <h3 class="text-xl font-semibold text-[#22d3ee] mb-2">Core Expertise</h3>
                    <div class="flex flex-wrap gap-3">
                        <span class="tag code-block px-3 py-1 text-sm rounded-lg text-slate-200">LLM Integration & Prompt Engineering</span>
                        <span class="tag code-block px-3 py-1 text-sm rounded-lg text-slate-200">Predictive Modeling (90% Accuracy)</span>
                        <span class="tag code-block px-3 py-1 text-sm rounded-lg text-slate-200">Data Annotation & Quality Control</span>
                        <span class="tag code-block px-3 py-1 text-sm rounded-lg text-slate-200">Python (Scikit-learn, Pandas)</span>
                        <span class="tag code-block px-3 py-1 text-sm rounded-lg text-slate-200">Youth Advocacy & Policy (WFF FAO)</span>
                    </div>
                </div>
            </div>
        </section>

        
    <!-- Projects Section -->
    <section id="projects" class="container py-16">
        <h3 class="text-3xl font-bold section-header">Featured Projects</h3>
        
        <div class="grid md:grid-cols-2 gap-8">
            
            <!-- Project 1: Wabtech AI Study Tool -->
            <div class="card rounded-xl overflow-hidden">
                <img src="images/study-tool.webp" onerror="this.onerror=null; this.src='https://placehold.co/600x337/30363d/8b949e?text=Wabtech+AI+Study+Tool'" alt="Wabtech AI Study Tool screenshot" class="project-img w-full">
                <div class="p-6">
                    <h4 class="text-2xl font-semibold mb-3 text-white">Wabtech AI Study Tool (Generative AI)</h4>
                    <p class="text-[#8b949e] mb-4">
                        A custom Generative AI application tailored for STEM education. Features include Q&A, flashcard generation, and personalized feedback. This project demonstrates expertise in LLM fine-tuning and domain-specific prompt engineering.
                    </p>
                    <a href="https://wabtechai-studytool.netlify.app/" target="_blank" class="text-[#58a6ff] hover:underline font-medium">View Details &rarr;</a>
                </div>
            </div>
            
            <!-- Project 2: Carbon Emission Predictive AI -->
            <div class="card rounded-xl overflow-hidden">
                <img src="images/carbon-ai.webp" onerror="this.onerror=null; this.src='https://placehold.co/600x337/30363d/8b949e?text=Carbon+Emission+AI'" alt="Carbon Emission Predictive AI screenshot" class="project-img w-full">
                <div class="p-6">
                    <h4 class="text-2xl font-semibold mb-3 text-white">Carbon Emission Predictive AI</h4>
                    <p class="text-[#8b949e] mb-4">
                        A powerful predictive model that forecasts carbon emissions with 90% accuracy. Built using XGBoost and extensive feature engineering, providing actionable insights for environmental policy and optimization.
                    </p>
                    <a href="https://eco-predict-ai.web.app/" target="_blank" class="text-[#58a6ff] hover:underline font-medium">View Repository &rarr;</a>
                </div>
            </div>
            
            <!-- Project 3: WabTech AgriSense -->
            <div class="card rounded-xl overflow-hidden">
                <img src="images/data-qc.webp" onerror="this.onerror=null; this.src='https://placehold.co/600x337/30363d/8b949e?text=WabTech AgriSense AI'" alt="WabTech Agrisence AI & QC Platform screenshot" class="3.jpg">
                <div class="p-6">
                    <h4 class="text-2xl font-semibold mb-3 text-white">WabTech AgriSence</h4>
                    <p class="text-[#8b949e] mb-4">
                        WabTech AgriSense is an  AI-powered system analyzing farm data (soil, crops, weather) to provide risk assessments and actionable recommendations. Built with Node.js backend, Gemini API integration, responsive frontend, and deployed on Render. Skills: AI Engineering, ML, Prompt Engineering, Data Processing, API Integration, Full-Stack Development.
                    </p>
                    <a href="https://ai-agriculture-2-8lum.onrender.com/" target="_blank" class="text-[#58a6ff] hover:underline font-medium">Read Case Study &rarr;</a>
                </div>
                </div>
            
    </section>

    <!-- Contact Section -->
    <section id="contact" class="container py-16 text-center">
        <h3 class="text-3xl font-bold section-header max-w-lg mx-auto">Let's Build the Future of AI Together</h3>
        <p class="text-xl text-[#8b949e] mb-8 max-w-2xl mx-auto">
            I am available for new opportunities that involve complex LLM integration, predictive modeling challenges, and MLOps deployment.
        </p>
        <div class="space-y-4">
            <a href="mailto:masainollin@gmail.com" class="btn-primary inline-block px-8 py-4 text-lg rounded-xl font-bold">Email Me: masainollin@gmail.com</a>
            <p class="text-[#8b949e]">Phone: 0757130382 | <a href="https://www.linkedin.com/in/nolin-masai" target="_blank" class="text-[#58a6ff] hover:underline">LinkedIn Profile</a></p>
        </div>
    </section>


        <section id="cv" class="py-12">
            <h2 class="section-header">CV/Resume</h2>
            <div class="ai-card-clickable p-8 rounded-xl max-w-2xl mx-auto text-center">
                <i data-lucide="file-text" class="w-12 h-12 text-pink-400 mb-4 mx-auto"></i>
                <h3 class="text-2xl font-bold mb-3 text-slate-100">View My Curriculum Vitae</h3>
                <p class="text-slate-300 mb-6">This section is ready for your document. Once you upload your CV file (e.g., PDF), please replace the placeholder link below so that recruiters can easily view or download your complete professional document.</p>
                <a href="#" onclick="alertUser('Please replace this # with the actual link to your CV/Resume PDF file.')" class="inline-flex items-center btn-primary px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all">
                    Download CV (Placeholder Link) <i data-lucide="download" class="w-5 h-5 ml-2"></i>
                </a>
            </div>
        </section>

        <section id="certifications" class="py-12">
            <h2 class="section-header">Certifications & Advocacy</h2>
            <p class="text-slate-300 text-center mb-8">Click on any card to view the details or link.</p>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                
                <div class="ai-card-clickable p-5 rounded-xl text-center" onclick="window.open('https://drive.google.com/file/d/1fXT9jrT2W4SolFJIRdCaYDaJCq7Is1af/view?usp=drivesdk', '_blank')">
                    <img src="cert-wff.jpg" onerror="this.onerror=null; this.src='https://placehold.co/400x120/1e293b/94a3b8?text=WFF+FAO+Cert'" alt="WFF FAO Youth Rep Certificate" class="cert-img-placeholder">
                    <i data-lucide="award" class="w-6 h-6 text-pink-400 mb-3 mx-auto"></i>
                    <h3 class="text-lg font-bold text-slate-100 mb-1">WFF FAO Youth Rep.</h3>
                    <p class="text-slate-300 text-xs italic">Sustainable Food Systems Policy</p>
                </div>

                <div class="ai-card-clickable p-5 rounded-xl text-center" onclick="alertUser('To display your AI for Software Engineering certificate image, replace \'cert-ai-eng.jpg\' with the actual filename of your certificate photo and update the link.')">
                    <img src="cert-ai-eng.jpg" onerror="this.onerror=null; this.src='https://placehold.co/400x120/1e293b/94a3b8?text=AI+Eng+Cert'" alt="AI for Software Engineering Certificate" class="cert-img-placeholder">
                    <i data-lucide="cpu" class="w-6 h-6 text-teal-400 mb-3 mx-auto"></i>
                    <h3 class="text-lg font-bold text-slate-100 mb-1">AI for Software Eng.</h3>
                    <p class="text-slate-300 text-xs italic">Power Learn Project</p>
                </div>

                <div class="ai-card-clickable p-5 rounded-xl text-center" onclick="alertUser('To display your Python for Data Science certificate image, replace \'cert-python.jpg\' with the actual filename of your certificate photo and update the link.')">
                    <img src="cert-python.jpg" onerror="this.onerror=null; this.src='https://placehold.co/400x120/1e293b/94a3b8?text=Python+Cert'" alt="Python for Data Science Certificate" class="cert-img-placeholder">
                    <i data-lucide="code" class="w-6 h-6 text-indigo-400 mb-3 mx-auto"></i>
                    <h3 class="text-lg font-bold text-slate-100 mb-1">Python for Data Science</h3>
                    <p class="text-slate-300 text-xs italic">Coursera Development Track</p>
                </div>

                <div class="ai-card-clickable p-5 rounded-xl text-center" onclick="alertUser('To display your Artificial Intelligence certificate image, replace \'cert-ai-core.jpg\' with the actual filename of your certificate photo and update the link.')">
                    <img src="cert-ai-core.jpg" onerror="this.onerror=null; this.src='https://placehold.co/400x120/1e293b/94a3b8?text=AI+Core+Cert'" alt="Artificial Intelligence Core Concepts Certificate" class="cert-img-placeholder">
                    <i data-lucide="brain-circuit" class="w-6 h-6 text-orange-400 mb-3 mx-auto"></i>
                    <h3 class="text-lg font-bold text-slate-100 mb-1">Artificial Intelligence</h3>
                    <p class="text-slate-300 text-xs italic">Coursera Core AI Concepts</p>
                </div>
            </div>
        </section>

        <section id="assistant" class="py-12">
            <h2 class="section-header">
                <i data-lucide="gem" class="inline-block w-8 h-8 mr-2 text-pink-400"></i>
                Personal AI Assistant Demo
            </h2>
            <div class="ai-card-clickable p-8 rounded-xl max-w-3xl mx-auto">
                <p class="text-slate-300 mb-6">
                    This personalized AI assistant demonstrates my ability to integrate LLMs with custom data sources (RAG pattern). Ask it specific questions about my background, skills, and experience, including my major projects.
                </p>

                <div class="flex space-x-3 mb-6">
                    <input type="text" id="ai-query" class="flex-grow p-3 rounded-lg bg-slate-700 focus:ring-2 focus:ring-[#22d3ee] focus:border-transparent text-slate-100 border-none" placeholder="e.g., 'What are Nolin's soft skills?'" onkeydown="if(event.key === 'Enter') document.getElementById('ai-submit').click()">
                    <button id="ai-submit" class="btn-primary px-5 rounded-lg flex items-center" onclick="callGeminiAPI()">
                        Ask AI <i data-lucide="send" class="w-4 h-4 ml-2"></i>
                    </button>
                </div>

                <div id="ai-response-container" class="mt-8 pt-4 border-t border-slate-700 hidden">
                    <p class="font-semibold text-lg mb-3 text-[#22d3ee] flex items-center">
                        <i data-lucide="bot" class="w-5 h-5 mr-2"></i> Assistant Response:
                    </p>
                    <div id="ai-response" class="p-4 rounded-xl code-block whitespace-pre-wrap text-slate-200">
                        </div>
                </div>

                <div id="ai-loading" class="hidden flex justify-center items-center mt-8 pt-4 border-t border-slate-700">
                    <div class="loading-spinner w-8 h-8 border-4 border-slate-700 rounded-full"></div>
                    <p class="ml-3 text-cyan-400">Thinking...</p>
                </div>

                <div id="ai-error" class="hidden mt-4 p-3 bg-red-900/40 text-red-300 border border-red-700 rounded-lg">
                    An error occurred while fetching the response. Please check the console for details.
                </div>
            </div>
        </section>

        <section id="contact" class="py-12 text-center">
            <h2 class="section-header mx-auto">Get In Touch</h2>
            <p class="text-lg mb-6 text-slate-300">I am currently seeking full-time AI Engineering roles. Let's discuss your next project.</p>
            <div class="flex justify-center space-x-6">
                <a href="mailto:masainollin@gmail.com" class="text-slate-300 hover:text-[#22d3ee] transition">
                    <i data-lucide="mail" class="w-6 h-6 inline-block mr-1"></i> masainollin@gmail.com
                </a>
                <a href="https://www.linkedin.com/in/nolin-masai-795aa32b4?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app" target="_blank" class="text-slate-300 hover:text-[#22d3ee] transition">
                    <i data-lucide="linkedin" class="w-6 h-6 inline-block mr-1"></i> LinkedIn
                </a>
                <a href="https://github.com/yourprofile" target="_blank" class="text-slate-300 hover:text-[#22d3ee] transition">
                    <i data-lucide="github" class="w-6 h-6 inline-block mr-1"></i> GitHub
                </a>
            </div>
        </section>
    </main>

    <footer class="bg-slate-800 py-6 mt-16 border-t border-slate-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-sm text-slate-400">
            &copy; 2025 Nolin.AI |
        </div>
    </footer>
    
    <div id="project-modal" class="fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm z-[100] hidden flex items-center justify-center p-4">
        <div class="ai-card-clickable w-full max-w-2xl p-8 rounded-xl relative bg-slate-800">
            <button onclick="closeModal()" class="absolute top-4 right-4 text-slate-400 hover:text-red-400 transition">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
            
            <h3 id="modal-title" class="text-3xl font-bold mb-4 text-[#22d3ee]"></h3>
            <p id="modal-description" class="text-slate-300 mb-6 leading-relaxed"></p>
            
            <div class="flex flex-col sm:flex-row gap-4">
                <a id="modal-view-link" target="_blank" class="flex-1 text-center btn-primary px-6 py-3 rounded-lg shadow-md hover:shadow-xl transition-all flex items-center justify-center">
                    View Project <i data-lucide="external-link" class="w-4 h-4 ml-2 inline-block"></i>
                </a>
                <button onclick="closeModal()" class="flex-1 text-center bg-slate-700 text-slate-200 px-6 py-3 rounded-lg hover:bg-slate-600 transition">
                    Close Summary
                </button>
            </div>
        </div>
    </div>
    
    <script src="https://unpkg.com/lucide@latest"></script>
<script>
// --- Project Details Data for Modals ---
const PROJECT_DETAILS = {
    wabtech_ai: {
        title: "Wabtech AI Study Tool (STEM)",
        description: "A Generative AI application built to personalize STEM education. It processes learning material and provides features like personalized Q&A, automatic flashcard generation, and targeted feedback to optimize study sessions. It demonstrates expertise in large language model (LLM) integration and custom prompt engineering for specialized domains.",
        link: "https://github.com/nolin-masai/wabtech-ai-study-tool" // REPLACE with actual link if available
    },
    carbon_ai: {
        title: "Carbon Emission Predictive AI",
        description: "Developed and deployed a highly accurate (90%) predictive machine learning model using techniques like XGBoost and extensive feature engineering on environmental data. The model forecasts carbon emission trends, providing key insights for sustainable policy-making and corporate environmental optimization.",
        link: "#" // REPLACE with actual link if available
    },
    data_annotation: {
        title: "Data Annotation & Quality Control",
        description: "Crucial project focused on the foundational layer of AI: high-quality data. Involves precise labeling, validation, and quality assurance protocols for complex datasets (e.g., imagery, text) to ensure the robustness and reliability of subsequent machine learning model training.",
        link: "#" // REPLACE with actual link if available
    },
};

// --- Frontend Helper Functions ---

/**
 * Shows the Project Detail Modal with the correct content.
 * @param {string} projectId - The key for the project in PROJECT_DETAILS.
 */
function showProjectDetails(projectId) {
    const data = PROJECT_DETAILS[projectId];
    if (!data) return;

    document.getElementById('modal-title').textContent = data.title;
    document.getElementById('modal-description').textContent = data.description;
    
    const linkElement = document.getElementById('modal-view-link');
    linkElement.href = data.link;
    linkElement.classList.toggle('hidden', data.link === '#'); // Hide link if placeholder

    document.getElementById('project-modal').classList.remove('hidden');
}

/**
 * Hides the Project Detail Modal.
 */
function closeModal() {
    document.getElementById('project-modal').classList.add('hidden');
}

/**
 * Shows a browser alert for the user.
 * @param {string} message - The message to show.
 */
function alertUser(message) {
    alert(message);
}

// --- Gemini API Call Function (Frontend Only) ---

const aiQueryInput = document.getElementById('ai-query');
const aiSubmitButton = document.getElementById('ai-submit');
const aiResponseContainer = document.getElementById('ai-response-container');
const aiResponseDiv = document.getElementById('ai-response');
const aiLoadingDiv = document.getElementById('ai-loading');
const aiErrorDiv = document.getElementById('ai-error');

// --- CRITICAL UPDATE: RENDER's PUBLIC API URL ---
const API_URL = 'https://p-backend-5.onrender.com/api/ask-ai';
// ---------------------------------------------------

/**
 * Handles the communication with the backend /api/ask-ai endpoint.
 */
async function callGeminiAPI() {
    const userQuery = aiQueryInput.value.trim();
    if (userQuery === "") {
        alert("Please enter a question for the AI Assistant.");
        return;
    }

    // 1. Setup UI for Loading State
    aiResponseContainer.classList.add('hidden');
    aiErrorDiv.classList.add('hidden');
    aiLoadingDiv.classList.remove('hidden');
    aiSubmitButton.disabled = true;
    aiQueryInput.disabled = true;

    try {
        // 2. Fetch data from the public Render server endpoint
        const response = await fetch(API_URL, { // <-- Now using the publicly deployed URL
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ query: userQuery }),
        });

        // 3. Handle HTTP Errors (e.g., 500 from server)
        if (!response.ok) {
            const errorText = await response.text();
            console.error('Server error response:', errorText);
            throw new Error(`AI server responded with status: ${response.status}`);
        }

        const data = await response.json();

        // 4. Update UI with the AI response
        aiResponseDiv.textContent = data.text || "No specific response text was generated.";
        aiResponseContainer.classList.remove('hidden');

    } catch (error) {
        // 5. Handle Network/Fetch Errors
        console.error('Error calling AI Assistant:', error);
        aiErrorDiv.classList.remove('hidden');
        aiResponseDiv.textContent = `Could not connect to the AI Assistant. Please ensure the backend server is running and accessible. Error: ${error.message}`;
        aiResponseContainer.classList.remove('hidden'); 
    } finally {
        // 6. Reset UI
        aiLoadingDiv.classList.add('hidden');
        aiSubmitButton.disabled = false;
        aiQueryInput.disabled = false;
    }
}

// --- Initialization ---

document.addEventListener('DOMContentLoaded', () => {
    // 1. Initialize Lucide Icons
    lucide.createIcons();
    
    // 2. Initial Message for AI Assistant Section
    aiResponseDiv.textContent = "Hi! I'm Nolin's custom AI Assistant. Ask me about her projects (Wabtech AI, Carbon Emission AI) or skills (LLM, Python).";
    aiResponseContainer.classList.remove('hidden');
});
</script>
</body>
</html>






